(function(e){function t(t){for(var r,c,s=t[0],i=t[1],u=t[2],l=0,m=[];l<s.length;l++)c=s[l],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&m.push(a[c][0]),a[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);d&&d(t);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var i=n[s];0!==a[i]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={timesheetVueCalendar:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=i;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("3e2e")},"07a4":function(e,t,n){"use strict";var r=n("1da1"),a=(n("96cf"),n("b64b"),n("e9c4"),n("8ba4"),n("a9e3"),n("d3b7"),n("6062"),n("3ca3"),n("ddb0"),n("5502")),o=n("fe1f"),c=n.n(o),s=n("6c44"),i=n.n(s),u=n("852e"),d=n.n(u),l=d.a.get("csrftoken"),m=function(){return{userTimeForm:{dateRangePickerActive:!1,date:null,endDate:null,hours:null,minutes:null,comments:null,payRate:null}}},f=function(){return{formErrors:{date:void 0,endDate:void 0,hours:void 0,minutes:void 0,comments:void 0,payRate:void 0}}},b=new a["a"].Store({state:{userTimeEntries:[],userTimeForm:{dateRangePickerActive:!1,date:null,endDate:null,hours:null,minutes:null,comments:null,payRate:null},formErrors:{date:void 0,endDate:void 0,hours:void 0,minutes:void 0,comments:void 0,payRate:void 0}},mutations:{UPDATE_TIME_ENTRIES:function(e,t){e.userTimeEntries=t},UPDATE_DATE:function(e,t){e.userTimeForm.date=t},UPDATE_END_DATE:function(e,t){e.userTimeForm.endDate=t},UPDATE_HOURS:function(e,t){e.userTimeForm.hours=t},UPDATE_MINUTES:function(e,t){e.userTimeForm.minutes=t},UPDATE_COMMENTS:function(e,t){e.userTimeForm.comments=t},UPDATE_PAY_RATE:function(e,t){e.userTimeForm.payRate=t},UPDATE_FORM_ERRORS:function(e,t){for(var n in t){var r=t[n];e.formErrors[n]=r}},RESET_STATE:function(e){Object.assign(e,m())},RESET_ERRORS:function(e){console.log("reset errors fired"),Object.assign(e,f())}},actions:{getUserTimeEntries:function(e,t){var n=e.commit,r=t.month,a=t.year;c()({method:"GET",url:"api/form_entries/",params:{month:r,year:a}}).then((function(e){n("UPDATE_TIME_ENTRIES",JSON.parse(e.data.time_entries_json))}))},setDay:function(e,t){var n=e.commit;n("UPDATE_DATE",t)},submitUserTimeEntryForm:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.dispatch,t.next=3,r("validateForm");case 3:if(a=t.sent,!Object.keys(a).length){t.next=7;break}return n("UPDATE_FORM_ERRORS",a),t.abrupt("return");case 7:n("RESET_ERRORS"),o=JSON.stringify(b.state.userTimeForm),console.log(o),console.log("hello"),c()({method:"POST",url:"/timesheet/",data:o,headers:{"X-CSRFToken":l,"Content-Type":"application/json"}}).then((function(e){n("RESET_STATE")}));case 12:case"end":return t.stop()}}),t)})))()},validateForm:function(e,t){e.commit;var n={};return b.state.userTimeForm.dateRangePickerActive&&(b.state.userTimeForm.date>b.state.userTimeForm.endDate||!b.state.userTimeForm.date||!b.state.userTimeForm.endDate)&&(n.endDate="End date must come after start date."),(!Number.isInteger(Number(b.state.userTimeForm.hours))||Number(b.state.userTimeForm.hours)<0)&&(n.hours="Must be a positive integer."),(!Number.isInteger(Number(b.state.userTimeForm.minutes))||Number(b.state.userTimeForm.minutes)<0)&&(n.minutes="Must be a positive integer."),b.state.userTimeForm.hours||b.state.userTimeForm.minutes||(n.hours="Both hours and minutes may not be empty.",n.minutes="Both hours and minutes may not be empty."),b.state.userTimeForm.date||(n.date="A date must be provided."),n}},getters:{userTimeEntries:function(e){return e.userTimeEntries},getDateRangePickerStatus:function(e){return e.userTimeForm.dateRangePickerActive},daysWithTimeEntry:function(e){for(var t=new Set,n=0;n<Object.keys(e.userTimeEntries).length;n++){var r=e.userTimeEntries[n];t.add(i()(r["record_date"]).date())}return t}},modules:{}});t["a"]=b},"10cb":function(e,t,n){"use strict";n("83ef")},"20e7":function(e,t,n){},"3e2e":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a={class:"row"},o={class:"col-8"},c={class:"calendar-month"},s={class:"calendar-month-header"},i={class:"days-grid"},u={class:"col-4"};function d(e,t,n,d,l,m){var f=Object(r["p"])("CalendarDateIndicator"),b=Object(r["p"])("CalendarDateSelector"),h=Object(r["p"])("CalendarWeekdays"),O=Object(r["p"])("CalendarMonthDayItem"),j=Object(r["p"])("timesheetUserEntryForm");return Object(r["k"])(),Object(r["e"])("div",a,[Object(r["f"])("div",o,[Object(r["f"])("div",c,[Object(r["f"])("div",s,[Object(r["h"])(f,{"selected-date":l.selectedDate,class:"calendar-month-header-selected-month"},null,8,["selected-date"]),Object(r["h"])(b,{"current-date":m.today,"selected-date":l.selectedDate,onDateSelected:m.selectDate},null,8,["current-date","selected-date","onDateSelected"])]),Object(r["h"])(h),Object(r["f"])("ol",i,[(Object(r["k"])(!0),Object(r["e"])(r["a"],null,Object(r["o"])(m.days,(function(e){return Object(r["k"])(),Object(r["c"])(O,{key:e.date,day:e,"is-today":e.date===m.today},null,8,["day","is-today"])})),128))])])]),Object(r["f"])("div",u,[Object(r["h"])(j)])])}var l=n("2909"),m=(n("99af"),n("a9e3"),n("d81d"),n("6c44")),f=n.n(m),b=n("4d4b"),h=n.n(b),O=n("6501"),j=n.n(O),y=function(e){return Object(r["m"])("data-v-6af248f3"),e=e(),Object(r["l"])(),e},p=["id"],v=y((function(){return Object(r["f"])("br",null,null,-1)}));function D(e,t,n,a,o,c){return Object(r["k"])(),Object(r["e"])("li",{class:Object(r["j"])(["calendar-day",{"calendar-day--not-current":!n.day.isCurrentMonth,"calendar-day--today":n.isToday}]),id:c.label,onClick:t[0]||(t[0]=function(e){return c.navigateToDayDetailView(n.day)})},[Object(r["f"])("span",null,Object(r["q"])(c.label),1),v,Object(r["f"])("div",{class:Object(r["j"])(c.timeEntryCurrentMonth(c.label,n.day))},null,2)],10,p)}var T=n("5530"),E=n("5502"),g={name:"CalendarMonthDayItem",props:{day:{type:Object,required:!0},isCurrentMonth:{type:Boolean,default:!1},isToday:{type:Boolean,default:!1}},methods:Object(T["a"])(Object(T["a"])({},Object(E["b"])(["setDay"])),{},{timeEntryCurrentMonth:function(e,t){var n=this.$store.getters.daysWithTimeEntry;return n.has(e)&&t.isCurrentMonth?"time_entry":""},navigateToDayDetailView:function(e){var t=f()(e.date).format("YYYY"),n=f()(e.date).format("M"),r=f()(e.date).format("D");document.location="user_entries/".concat(t,"/").concat(n,"/").concat(r,"/")}}),computed:Object(T["a"])(Object(T["a"])({},Object(E["c"])(["daysWithTimeEntry"])),{},{label:function(){return Number(f()(this.day.date).format("D"))}})},M=(n("ca2f"),n("6b0d")),k=n.n(M);const R=k()(g,[["render",D],["__scopeId","data-v-6af248f3"]]);var _=R,S={class:"calendar-date-indicator"};function P(e,t,n,a,o,c){return Object(r["k"])(),Object(r["e"])("div",S,Object(r["q"])(c.selectedMonth),1)}var F={name:"CalendarDateIndicator",props:{selectedDate:{type:Object,required:!0}},computed:{selectedMonth:function(){return this.selectedDate.format("MMMM YYYY")}}};n("95e0");const C=k()(F,[["render",P],["__scopeId","data-v-75dcf930"]]);var U=C,w={class:"calendar-date-selector"};function A(e,t,n,a,o,c){return Object(r["k"])(),Object(r["e"])("div",w,[Object(r["f"])("span",{onClick:t[0]||(t[0]=function(){return c.selectPrevious&&c.selectPrevious.apply(c,arguments)})},"<"),Object(r["f"])("span",{onClick:t[1]||(t[1]=function(){return c.selectCurrent&&c.selectCurrent.apply(c,arguments)})},"Today"),Object(r["f"])("span",{onClick:t[2]||(t[2]=function(){return c.selectNext&&c.selectNext.apply(c,arguments)})},">")])}var x={name:"CalendarDateSelector",props:{currentDate:{type:String,required:!0},selectedDate:{type:Object,required:!0}},methods:{selectPrevious:function(){var e=f()(this.selectedDate).subtract(1,"month"),t={month:e.month(),year:e.year()};this.$emit("dateSelected",e),this.$store.dispatch("getUserTimeEntries",t)},selectCurrent:function(){var e=f()(this.currentDate),t={month:e.month(),year:e.year()};this.$emit("dateSelected",e),this.$store.dispatch("getUserTimeEntries",t)},selectNext:function(){var e=f()(this.selectedDate).add(1,"month"),t={month:e.month(),year:e.year()};this.$emit("dateSelected",e),this.$store.dispatch("getUserTimeEntries",t)}}};n("d9af");const Y=k()(x,[["render",A],["__scopeId","data-v-5238c6e8"]]);var V=Y,$={class:"day-of-week"};function I(e,t,n,a,o,c){return Object(r["k"])(),Object(r["e"])("ol",$,[(Object(r["k"])(!0),Object(r["e"])(r["a"],null,Object(r["o"])(c.weekdays,(function(e){return Object(r["k"])(),Object(r["e"])("li",{key:e},Object(r["q"])(e),1)})),128))])}var N=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],q={name:"CalendarWeekdays",computed:{weekdays:function(){return N}}};n("a8c5");const W=k()(q,[["render",I],["__scopeId","data-v-503be0d8"]]);var H=W,z={id:"time_entry_form"},B={class:"container d-flex flex-column p-0"},J={class:"mb-2"},G={key:0},X={for:"startDate",class:"d-flex justify-content-between form-label"},K=Object(r["g"])(" Start Date: "),L=Object(r["f"])("span",{class:"pe-2"},"Select Single Day",-1),Q=Object(r["f"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-calendar-range",viewBox:"0 0 16 16"},[Object(r["f"])("path",{d:"M9 7a1 1 0 0 1 1-1h5v2h-5a1 1 0 0 1-1-1zM1 9h4a1 1 0 0 1 0 2H1V9z"}),Object(r["f"])("path",{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"})],-1),Z=[L,Q],ee={style:{color:"red"}},te=Object(r["f"])("label",{for:"endDate",class:"d-flex justify-content-between form-label"},"End Date:",-1),ne={style:{color:"red"}},re={key:1},ae={for:"date",class:"d-flex justify-content-between form-label"},oe=Object(r["g"])(" Date: "),ce=Object(r["f"])("span",{class:"pe-2"},"Select date range",-1),se=Object(r["f"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-calendar-range",viewBox:"0 0 16 16"},[Object(r["f"])("path",{d:"M9 7a1 1 0 0 1 1-1h5v2h-5a1 1 0 0 1-1-1zM1 9h4a1 1 0 0 1 0 2H1V9z"}),Object(r["f"])("path",{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"})],-1),ie=[ce,se],ue={style:{color:"red"}},de={class:"mb-3"},le=Object(r["f"])("label",{for:"hours",class:"d-flex justify-content-start form-label"},"Hours:",-1),me={style:{color:"red"}},fe={class:"mb-3"},be=Object(r["f"])("label",{for:"minutes",class:"d-flex justify-content-start form-label"},"Minutes:",-1),he={style:{color:"red"}},Oe={class:"mb-3"},je=Object(r["f"])("label",{for:"comments",class:"d-flex justify-content-start form-label"},"Comments:",-1),ye={style:{color:"red"}},pe={class:"me-0"},ve=Object(r["f"])("label",{for:"overtime",class:"d-flex justify-content-start form-label"},"Pay Rate:",-1),De=Object(r["f"])("option",{value:"base"},"Base",-1),Te=Object(r["f"])("option",{value:"overtime"},"Overtime",-1),Ee=[De,Te],ge={style:{color:"red"}},Me={class:"d-grid gap-2"};function ke(e,t,n,a,o,c){return Object(r["k"])(),Object(r["e"])("section",z,[Object(r["f"])("div",B,[Object(r["f"])("div",J,[e.getDateRangePickerStatus?(Object(r["k"])(),Object(r["e"])("div",G,[Object(r["f"])("label",X,[K,Object(r["f"])("div",{class:"d-inline-block pb-2",onClick:t[0]||(t[0]=function(){return c.activateDateRangePicker&&c.activateDateRangePicker.apply(c,arguments)})},Z)]),Object(r["u"])(Object(r["f"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.date=e}),name:"startDate",id:"startDate",type:"date",class:"form-control mb-3",placeholder:"Date",required:""},null,512),[[r["s"],c.date]]),Object(r["f"])("span",ee,Object(r["q"])(e.formErrors.date),1),te,Object(r["u"])(Object(r["f"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.endDate=e}),name:"endDate",id:"endDate",type:"date",class:"form-control",placeholder:"Date",required:""},null,512),[[r["s"],c.endDate]]),Object(r["f"])("span",ne,Object(r["q"])(e.formErrors.endDate),1)])):(Object(r["k"])(),Object(r["e"])("div",re,[Object(r["f"])("label",ae,[oe,Object(r["f"])("div",{class:"d-inline-block pb-3",onClick:t[3]||(t[3]=function(){return c.activateDateRangePicker&&c.activateDateRangePicker.apply(c,arguments)})},ie)]),Object(r["u"])(Object(r["f"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.date=e}),name:"date",id:"date",type:"date",class:"form-control",placeholder:"Date",required:""},null,512),[[r["s"],c.date]]),Object(r["f"])("span",ue,Object(r["q"])(e.formErrors.date),1)]))]),Object(r["f"])("div",de,[le,Object(r["u"])(Object(r["f"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.hours=e}),name:"hours",id:"hours",type:"number",class:"form-control",min:"0"},null,512),[[r["s"],c.hours]]),Object(r["f"])("span",me,Object(r["q"])(e.formErrors.hours),1)]),Object(r["f"])("div",fe,[be,Object(r["u"])(Object(r["f"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return c.minutes=e}),name:"minutes",id:"minutes",type:"number",class:"form-control",min:"0"},null,512),[[r["s"],c.minutes]]),Object(r["f"])("span",he,Object(r["q"])(e.formErrors.minutes),1)]),Object(r["f"])("div",Oe,[je,Object(r["u"])(Object(r["f"])("textarea",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return c.comments=e}),name:"comments",id:"comments",rows:"1",class:"form-control"},null,512),[[r["s"],c.comments]]),Object(r["f"])("span",ye,Object(r["q"])(e.formErrors.comments),1)]),Object(r["f"])("div",pe,[ve,Object(r["u"])(Object(r["f"])("select",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return c.payRate=e}),id:"overtime",name:"overtime",class:"form-select","aria-label":"Default select example",required:""},Ee,512),[[r["r"],c.payRate]]),Object(r["f"])("span",ge,Object(r["q"])(e.formErrors.payRate),1)])]),Object(r["f"])("div",Me,[Object(r["f"])("button",{class:"btn btn-info mt-3",onClick:t[9]||(t[9]=function(t){return e.submitUserTimeEntryForm()})},"Submit")])])}n("fe1f");var Re=n("852e"),_e=n.n(Re),Se=(_e.a.get("csrftoken"),{name:"timesheetUserEntryForm",methods:Object(T["a"])(Object(T["a"])({},Object(E["b"])(["submitUserTimeEntryForm"])),{},{activateDateRangePicker:function(){console.log("activateDateRangePicker"),this.$store.state.userTimeForm.dateRangePickerActive=!this.$store.state.userTimeForm.dateRangePickerActive,this.$store.state.userTimeForm.endDate=null}}),computed:Object(T["a"])(Object(T["a"])(Object(T["a"])({},Object(E["d"])(["userTimeForm","formErrors"])),Object(E["c"])(["getDateRangePickerStatus"])),{},{date:{get:function(){return this.$store.state.userTimeForm.date},set:function(e){this.$store.commit("UPDATE_DATE",e)}},endDate:{get:function(){return this.$store.state.userTimeForm.endDate},set:function(e){this.$store.commit("UPDATE_END_DATE",e)}},hours:{get:function(){return this.$store.state.userTimeForm.hours},set:function(e){this.$store.commit("UPDATE_HOURS",e)}},minutes:{get:function(){return this.$store.state.userTimeForm.minutes},set:function(e){this.$store.commit("UPDATE_MINUTES",e)}},comments:{get:function(){return this.$store.state.userTimeForm.comments},set:function(e){this.$store.commit("UPDATE_COMMENTS",e)}},payRate:{get:function(){return this.$store.state.userTimeForm.payRate},set:function(e){this.$store.commit("UPDATE_PAY_RATE",e)}}})});const Pe=k()(Se,[["render",ke]]);var Fe=Pe;f.a.extend(h.a),f.a.extend(j.a);var Ce={name:"timesheetVueCalendar",created:function(e){var t={month:f()().month(),year:f()().year()};this.$store.dispatch("getUserTimeEntries",t)},mounted:function(){},components:{CalendarMonthDayItem:_,CalendarDateIndicator:U,CalendarDateSelector:V,CalendarWeekdays:H,timesheetUserEntryForm:Fe},data:function(){return{selectedDate:f()()}},computed:{days:function(){return[].concat(Object(l["a"])(this.previousMonthDays),Object(l["a"])(this.currentMonthDays),Object(l["a"])(this.nextMonthDays))},today:function(){return f()().format("YYYY-MM-DD")},month:function(){return Number(this.selectedDate.format("M"))},year:function(){return Number(this.selectedDate.format("YYYY"))},numberOfDaysInMonth:function(){return f()(this.selectedDate).daysInMonth()},currentMonthDays:function(){var e=this;return Object(l["a"])(Array(this.numberOfDaysInMonth)).map((function(t,n){return{date:f()("".concat(e.year,"-").concat(e.month,"-").concat(n+1)).format("YYYY-MM-DD"),isCurrentMonth:!0}}))},previousMonthDays:function(){var e=this.getWeekday(this.currentMonthDays[0].date),t=f()("".concat(this.year,"-").concat(this.month,"-01")).subtract(1,"month"),n=e,r=f()(this.currentMonthDays[0].date).subtract(n,"day").date();return Object(l["a"])(Array(n)).map((function(e,n){return{date:f()("".concat(t.year(),"-").concat(t.month()+1,"-").concat(r+n)).format("YYYY-MM-DD"),isCurrentMonth:!1}}))},nextMonthDays:function(){var e=this.getWeekday("".concat(this.year,"-").concat(this.month,"-").concat(this.currentMonthDays.length)),t=f()("".concat(this.year,"-").concat(this.month,"-01")).add(2,"month"),n=6-e;return Object(l["a"])(Array(n)).map((function(e,n){return{date:f()("".concat(t.year(),"-").concat(t.month(),"-").concat(n+1)).format("YYYY-MM-DD"),isCurrentMonth:!1}}))}},methods:{getWeekday:function(e){return f()(e).weekday()},selectDate:function(e){this.selectedDate=e}}};n("10cb");const Ue=k()(Ce,[["render",d],["__scopeId","data-v-da61806e"]]);var we=Ue,Ae=n("07a4");Object(r["b"])(we).use(Ae["a"]).mount("#app")},"83ef":function(e,t,n){},"88cd":function(e,t,n){},"8d26":function(e,t,n){},"95e0":function(e,t,n){"use strict";n("8d26")},a8c5:function(e,t,n){"use strict";n("88cd")},c51d:function(e,t,n){},ca2f:function(e,t,n){"use strict";n("c51d")},d9af:function(e,t,n){"use strict";n("20e7")}});